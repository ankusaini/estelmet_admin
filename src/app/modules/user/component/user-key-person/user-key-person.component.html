<div class="merge-card" *ngFor="let key of selectedUser?.keyPerson; let i = index">
  <div class="row">
    <div class="col-md-12 m-t-10 m-b-10">
      <button type="button"
      (click)="this.data[i].editProfile = !this.data[i].editProfile; this.data[i].editProfileIcon = this.data[i].editProfile ? 'icon-x': 'icon-edit';"
      class="btn btn-primary btn-sm rounded m-t-10 float-right" data-toggle="collapse" data-target=".pro-det-edit"
      aria-expanded="false" aria-controls="pro-det-edit-1 pro-det-edit-2">
      <i class="feather" [ngClass]="data[i].editProfileIcon"></i>
    </button>
    </div>
  </div>
    <app-card [hidHeader]="false" cardTitle="{{ 'Key Person ' + (i+1) }}" blockClass="border-top pro-det-edit collapse show" *ngIf="!data[i].editProfile">

      <div class="form-group row">
        <label class="col-sm-3 col-form-label font-weight-bolder">Full Name</label>
        <div class="col-sm-9 m-t-10 p-t-5 brdr1">
          {{ key?.name }}
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-3 col-form-label font-weight-bolder">Designation</label>
        <div class="col-sm-9 m-t-10 p-t-5 brdr1">
            {{ key?.designation }}
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-3 col-form-label font-weight-bolder">Mobile</label>
        <div class="col-sm-9 m-t-10 p-t-5 brdr1">
            +91-{{ key?.mobile1 }}
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-3 col-form-label font-weight-bolder">E-mail</label>
        <div class="col-sm-9 m-t-10 p-t-5 brdr1">
            {{ key?.email1 }}
        </div>
      </div>
    </app-card>
    <app-card [hidHeader]="false" cardTitle="{{ 'Key Person ' + (i+1) }}" blockClass="border-top pro-det-edit collapse show" *ngIf="data[i].editProfile">
      <form [formGroup]="keyPersonDetails">
        <div formArrayName="details">
          <!-- *ngFor="let detail of details.controls; let i = index"   -->
          <div [formGroupName]="i">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label font-weight-bolder">Full Name</label>
              <div class="col-sm-9">
                <input formControlName="name" type="text" class="form-control" placeholder="Full Name" value="">
                <small *ngIf="f.controls[i].get('name').value == '' && (f.controls[i].get('name').dirty || f.controls[i].get('name').touced)" id="passwordHelpBlock" class="form-text text-muted"
                  >This field is required.</small>
                  <small *ngIf="f.controls[i].get('name').value !== '' && f.controls[i].get('name').errors?.minlength  " id="passwordHelpBlock" class="form-text text-muted"
                  >Full Name should be more than 2 characters.</small>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label font-weight-bolder">Designation</label>
              <div class="col-sm-9">
                <input formControlName="designation" type="text" class="form-control" placeholder="Designation" value="">
                <small *ngIf="f.controls[i].get('designation').value == '' && (f.controls[i].get('designation').dirty || f.controls[i].get('designation').touched )" id="passwordHelpBlock" class="form-text text-muted"
                >This field is required.</small>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label font-weight-bolder">Mobile</label>
              <div class="col-sm-9">
                <input formControlName="mobile1" type="text" class="form-control" placeholder="Mobile" value="">
                <small *ngIf="f.controls[i].get('mobile1').value == '' && (f.controls[i].get('mobile1').dirty || f.controls[i].get('mobile1').touched )" id="passwordHelpBlock" class="form-text text-muted"
        >This field is required.</small>
        <small *ngIf="f.controls[i].get('mobile1').value !== '' && f.controls[i].get('mobile1').errors?.contactNumberValidation " id="passwordHelpBlock" class="form-text text-muted"
          >This field only accepts 10 or 13 digits.</small>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label font-weight-bolder">E-mail</label>
              <div class="col-sm-9">
                <input formControlName="email1" type="text" class="form-control" placeholder="E-mail" value="">
                <small *ngIf="f.controls[i].get('email1').value == ''  && (f.controls[i].get('email1').dirty || f.controls[i].get('email1').touched )" id="passwordHelpBlock" class="form-text text-muted"
                >This field is required.</small>
              </div>
            </div>
      
          </div>
        </div>
      </form>
      <!-- <div class="form-group row">
        <label class="col-sm-3 col-form-label"></label>
        <div class="col-sm-9">
          <button type="button" class="btn btn-primary">Save</button>
        </div>
      </div> -->
    </app-card>
  </div>