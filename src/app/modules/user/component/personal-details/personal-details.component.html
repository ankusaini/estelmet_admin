<form [formGroup]="userDTO">
  <div class="row">
    <div class="col-md-7">
      <div class="form-row">
        <div class="col-md-12 mb-3">
          <div class="form-group">
            <label for="exampleFormControlSelect1">User Type <small class="asterik_sign">*</small></label>
            <select formControlName="userRole" class="form-control" name="validation-userType"
              id="exampleFormControlSelect1" [ngClass]="{ 'is-invalid': false }" required>
              <option value>Select User type</option>
              <option value="CUSTOMER">Customer</option>
              <option value="SUPPLIER">Supplier</option>
              <option value="AGENT">Agent</option>
              <option value="TRANSPORTED">Transporter</option>
              <option value="CONTRACTOR">Contractor</option>
            </select>
            <small *ngIf="f.userRole.value.length==0 && (f.userRole.dirty || f.userRole.touched )"
              id="passwordHelpBlock" class="form-text text-muted">This field is required.</small>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label for="validationCustom01">First Name <small class="asterik_sign">*</small></label>
          <input formControlName="firstName" type="text" class="form-control" id="validationCustom01"
            placeholder="First name" required />
          <small *ngIf="f.firstName.value.length==0 && (f.firstName.dirty || f.firstName.touched )"
            id="passwordHelpBlock" class="form-text text-muted">This field is required.</small>
          <small *ngIf="f.firstName.value.length!=0 && f.firstName.errors?.minlength  " id="passwordHelpBlock"
            class="form-text text-muted">First Name should be more than 2 characters.</small>

        </div>

        <div class="col-md-6 mb-3">
          <label for="validationCustom02">Last Name <small class="asterik_sign">*</small></label>
          <input formControlName="lastName" type="text" id="validationCustom02" class="form-control"
            placeholder="Last name" required />
          <small *ngIf="f.lastName.value.length==0 && (f.lastName.dirty || f.lastName.touched )" id="passwordHelpBlock"
            class="form-text text-muted">This field is required.</small>
          <small *ngIf="f.lastName.value.length!=0 && f.lastName.errors?.minlength  " id="passwordHelpBlock"
            class="form-text text-muted">Last Name should be more than 2 characters.</small>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label for="validationCustom01">Mobile <small class="asterik_sign">*</small></label>
          <input formControlName="mobile" type="text" class="form-control" id="validationCustom01" placeholder="Mobile"
            required />
          <small *ngIf="f.mobile.value.length==0 && (f.mobile.dirty || f.mobile.touched )" id="passwordHelpBlock"
            class="form-text text-muted">This field is required.</small>
          <small *ngIf="f.mobile.value.length>0 && f.mobile.errors?.contactNumberValidation " id="passwordHelpBlock"
            class="form-text text-muted">This field only accepts 10 or 13 digits.</small>


        </div>
        <div class="col-md-6 mb-3">
          <label for="validationCustom02">Email <small class="asterik_sign">*</small></label>
          <input formControlName="email" type="email" id="validationCustom02" class="form-control" placeholder="Email"
            required (change)="checkEmail()"/>
          <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
          <small *ngIf="f.email.value.length==0 && (f.email.dirty || f.email.touched )" id="passwordHelpBlock"
            class="form-text text-muted">This field is required.</small>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label for="inputPassword5">Password <small class="asterik_sign">*</small></label>
          <input formControlName="password" type="password" class="form-control" id="inputPassword5"
            aria-describedby="passwordHelpBlock" placeholder="Password" />
          <small *ngIf="f.password.value.length==0 && (f.password.dirty || f.password.touched )" id="passwordHelpBlock"
            class="form-text text-muted">This field is required.</small>

          <small *ngIf="f.password.value.length!=0 && f.password.errors?.minlength  " id="passwordHelpBlock"
            class="form-text text-muted">Your password must be 5-20 characters long.</small>

        </div>
        <div class="col-md-6 mb-3">
          <label for="inputPassword5">Confirm Password <small class="asterik_sign">*</small></label>
          <input formControlName="cpassword" type="password" class="form-control" id="inputPassword5"
            aria-describedby="passwordHelpBlock" placeholder="Confirm Password" />
          <small *ngIf="f.cpassword.value.length==0 && (f.cpassword.dirty || f.cpassword.touched )"
            id="passwordHelpBlock" class="form-text text-muted">This field is required.</small>
          <small *ngIf="f.cpassword.value.length!=0 && f.password.value != f.cpassword.value" id="passwordHelpBlock"
            class="form-text text-muted">Password does not match</small>
        </div>
        <div class="col-md-6 mb-3" *ngIf="enterOTP">
          <label for="inputPassword5">Enter OTP<small class="asterik_sign">*</small></label>
          <input [readonly]="markAsComplete" formControlName="otp" type="number" class="form-control"
            id="inputPassword5" aria-describedby="passwordHelpBlock" placeholder="Enter OTP" />
        </div>
      </div>
    </div>
    <div class="col-md-1"></div>
    <div class="col-md-4">
      <div class="photo_upload">
        <form>
          <file-upload name="files" fileslimit="1"></file-upload>
          <small class="p-l-5 clr-red">Image size should not be greater than 5Mb</small>
          <div class="text-center m-t-20 m-b-20">
          </div>
        </form>
      </div>
      
    </div>
  </div>
  <div class="col-sm-12 centered-content">
    <div style="margin-right:10px" class="btn-group mt-10 mr-10"
      *ngIf="!f.mobile.errors && !f.email.errors && !enterOTP">
      <button class="btn btn-primary btn-sm" [disabled]="(f.mobile.errors && f.email.errors) || markAsComplete"
        (click)="SendOTP()">
        Send OTP
      </button>
    </div>
    <div style="margin-right:10px" class="btn-group mt-10 mr-10" *ngIf="enterOTP">
      <button class="btn  btn-primary btn-sm" [disabled]="f.otp.errors || markAsComplete" (click)="verifyOTP()">
        Verify OTP
      </button>
    </div>
    <div style="margin-right:10px" class="btn-group mt-10 mr-10" *ngIf="enterOTP">
      <button class="btn btn-primary  btn-sm" [disabled]="f.otp.errors || markAsComplete" (click)="SendOTP()">
        Resend OTP
      </button>
    </div>
    <div class="btn-group mt-10" *ngIf="markAsComplete">
      <button (click)="personalDetailSubmit()" type="submit" class="btn btn-primary btn-sm" uiSref="work">
        Continue
      </button>
    </div>
  </div>
</form>
